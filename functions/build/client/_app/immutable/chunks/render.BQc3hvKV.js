import{g as D,H,i as g,j as _,k as T,e as I,l as u,m as L,n as O,o as A,p as V,h as m,q as Y}from"./disclose-version.D7UMpawt.js";import{v as b,w as k,x as C,y as M,z as $,A as j,B as q,i as z}from"./runtime.C2i9DcWR.js";import{a as B,r as R,h}from"./events.BoXAamLX.js";const P=["wheel","touchstart","touchmove","touchend","touchcancel"];function W(t){return P.includes(t)}function Q(t,e){(t.__t??(t.__t=t.nodeValue))!==e&&(t.nodeValue=t.__t=e)}function F(t,e){const n=e.anchor??e.target.appendChild(D());return S(t,{...e,anchor:n})}function U(t,e){e.intro=e.intro??!1;const n=e.target,f=m,c=u;try{for(var r=n.firstChild;r&&(r.nodeType!==8||r.data!==H);)r=r.nextSibling;if(!r)throw g;_(!0),T(r),I();const i=S(t,{...e,anchor:r});if(u===null||u.nodeType!==8||u.data!==L)throw O(),g;return _(!1),i}catch(i){if(i===g)return e.recover===!1&&b(),A(),V(n),_(!1),F(t,e);throw i}finally{_(f),T(c)}}const d=new Map;function S(t,{target:e,anchor:n,props:f={},events:c,context:r,intro:i=!0}){A();var v=new Set,y=a=>{for(var o=0;o<a.length;o++){var s=a[o];if(!v.has(s)){v.add(s);var w=W(s);e.addEventListener(s,h,{passive:w});var E=d.get(s);E===void 0?(document.addEventListener(s,h,{passive:w}),d.set(s,1)):d.set(s,E+1)}}};y(k(B)),R.add(y);var l=void 0,N=C(()=>(M(()=>{if(r){$({});var a=z;a.c=r}c&&(f.$$events=c),m&&Y(n,null),l=t(n,f)||{},m&&(j.nodes.end=u),r&&q()}),()=>{for(var a of v){e.removeEventListener(a,h);var o=d.get(a);--o===0?(document.removeEventListener(a,h),d.delete(a)):d.set(a,o)}R.delete(y),p.delete(l)}));return p.set(l,N),l}let p=new WeakMap;function X(t){const e=p.get(t);e==null||e()}export{U as h,F as m,Q as s,X as u};
